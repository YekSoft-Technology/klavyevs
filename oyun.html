<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hƒ±zlƒ± Yazma Oyunu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            text-align: center;
        }

        .logo {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .login-screen {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .input-group {
            margin: 20px 0;
        }

        input {
            padding: 15px 20px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            color: #fff;
            width: 300px;
            text-align: center;
        }

        input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: #fff;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        .game-area {
            display: none;
        }

        .players-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            align-items: center;
        }

        .player-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            width: 300px;
            border: 2px solid transparent;
        }

        .my-card {
            border-color: #4ecdc4;
        }

        .opponent-card {
            border-color: #ff6b6b;
        }

        .vs-line {
            width: 200px;
            height: 4px;
            background: linear-gradient(90deg, #4ecdc4, #ff6b6b);
            margin: 0 20px;
            border-radius: 2px;
            position: relative;
        }

        .vs-text {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            padding: 5px 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        .searching {
            text-align: center;
            padding: 50px;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid #4ecdc4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .text-area {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 20px;
            line-height: 1.6;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .typing-input {
            width: 100%;
            padding: 20px;
            font-size: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            margin-top: 20px;
        }

        .progress-bars {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .progress-container {
            width: 48%;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #45b7d1);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 15px;
        }

        .opponent-progress .progress-fill {
            background: linear-gradient(90deg, #ff6b6b, #ff8a80);
        }

        .winner-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            font-size: 24px;
            z-index: 1000;
            display: none;
        }

        .status-message {
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid #4ecdc4;
        }

        .correct-char {
            color: #4ecdc4;
            background: rgba(78, 205, 196, 0.2);
        }

        .wrong-char {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
        }

        .current-char {
            background: #fff;
            color: #000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">‚ö° HIZLI YAZMA SAVA≈ûI ‚ö°</div>
        
        <!-- Giri≈ü Ekranƒ± -->
        <div id="loginScreen" class="login-screen">
            <h2 style="margin-bottom: 30px;">Oyuna Katƒ±l</h2>
            <div class="input-group">
                <input type="text" id="playerName" placeholder="Adƒ±nƒ±zƒ± girin..." maxlength="20">
            </div>
            <button onclick="joinGame()">üéÆ OYUNA BA≈ûLA</button>
        </div>

        <!-- Oyun Alanƒ± -->
        <div id="gameArea" class="game-area">
            <!-- Arama Ekranƒ± -->
            <div id="searchingScreen" class="searching">
                <div class="spinner"></div>
                <h2>Rakip Aranƒ±yor...</h2>
                <p>En yakƒ±n seviyedeki oyuncu bulunuyor</p>
                <div id="searchTime" style="margin-top: 20px; font-size: 18px;">‚è±Ô∏è 0 saniye</div>
            </div>

            <!-- Oyun Ekranƒ± -->
            <div id="gameScreen" style="display: none;">
                <div class="players-section">
                    <div class="player-card my-card">
                        <h3>üë§ <span id="myName">Sen</span></h3>
                        <div style="margin-top: 10px; font-size: 16px;">
                            <div>‚ö° Hƒ±z: <span id="mySpeed">0</span> KDK</div>
                            <div>üéØ Doƒüruluk: <span id="myAccuracy">100</span>%</div>
                        </div>
                    </div>
                    
                    <div class="vs-line">
                        <div class="vs-text">VS</div>
                    </div>
                    
                    <div class="player-card opponent-card">
                        <h3>ü§ñ <span id="opponentName">Rakip</span></h3>
                        <div style="margin-top: 10px; font-size: 16px;">
                            <div>‚ö° Hƒ±z: <span id="opponentSpeed">0</span> KDK</div>
                            <div>üéØ Doƒüruluk: <span id="opponentAccuracy">100</span>%</div>
                        </div>
                    </div>
                </div>

                <div class="progress-bars">
                    <div class="progress-container">
                        <div><span id="myName2">Sen</span></div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="myProgress"></div>
                        </div>
                    </div>
                    <div class="progress-container opponent-progress">
                        <div><span id="opponentName2">Rakip</span></div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="opponentProgress"></div>
                        </div>
                    </div>
                </div>

                <div id="countdownArea" style="font-size: 3em; margin: 30px 0; display: none;">
                    <div id="countdown">3</div>
                </div>

                <div class="text-area" id="textDisplay">
                    Metin y√ºkleniyor...
                </div>

                <input type="text" id="typingInput" class="typing-input" placeholder="Yazƒ±n..." disabled>
                
                <div id="statusMessage" class="status-message" style="display: none;"></div>
            </div>
        </div>

        <!-- Kazanan Mesajƒ± -->
        <div id="winnerMessage" class="winner-message">
            <h2 id="winnerText">üéâ TEBRƒ∞KLER! üéâ</h2>
            <p id="winnerDetails">Kazandƒ±nƒ±z!</p>
            <button onclick="startNewGame()" style="margin-top: 20px;">üîÑ YENƒ∞ OYUN</button>
        </div>
    </div>

    <script>
        let playerName = '';
        let gameState = 'login';
        let currentText = '';
        let typedText = '';
        let gameStartTime = 0;
        let searchStartTime = 0;
        let opponentData = null;
        let myProgress = 0;
        let opponentProgress = 0;
        let gameId = '';
        let mySpeed = 0;
        let myAccuracy = 100;

        // Uzun metinler
        const gameParagraphs = [
            "Teknoloji hayatƒ±mƒ±zƒ±n her alanƒ±na girmi≈ü durumda. Akƒ±llƒ± telefonlar, bilgisayarlar ve internet sayesinde d√ºnya √ßok daha k√º√ß√ºk hale geldi. ƒ∞nsanlar artƒ±k d√ºnyanƒ±n her yerinden birbiriyle ileti≈üim kurabiliyor, bilgi payla≈üabiliyor ve ticaret yapabiliyor. Bu durum hem avantajlar hem de dezavantajlar getiriyor. Bir yandan hayatƒ±mƒ±z kolayla≈üƒ±rken, diƒüer yandan teknoloji baƒüƒ±mlƒ±lƒ±ƒüƒ± gibi sorunlarla kar≈üƒ±la≈üƒ±yoruz.",
            
            "√áevre koruma konusu g√ºn√ºm√ºz√ºn en √∂nemli sorunlarƒ±ndan biri haline geldi. ƒ∞klim deƒüi≈üikliƒüi, orman yangƒ±nlarƒ±, deniz kirliliƒüi ve hava kirliliƒüi gibi problemler t√ºm d√ºnyayƒ± etkiliyor. Bu sorunlarƒ±n √ß√∂z√ºm√º i√ßin hem bireysel hem de toplumsal √ßabalar gerekiyor. Geri d√∂n√º≈ü√ºm yaparak, enerji tasarrufu saƒülayarak ve doƒüa dostu √ºr√ºnler kullanarak √ßevreye katkƒ±da bulunabiliriz. Gelecek nesillere ya≈üanabilir bir d√ºnya bƒ±rakmanƒ±n sorumluluƒüu hepimizin.",
            
            "Spor sadece fiziksel saƒülƒ±ƒüƒ±mƒ±z i√ßin deƒüil, mental saƒülƒ±ƒüƒ±mƒ±z i√ßin de √ßok √∂nemlidir. D√ºzenli egzersiz yapmanƒ±n sayƒ±sƒ±z faydasƒ± vardƒ±r. Kalp saƒülƒ±ƒüƒ±nƒ± korur, kaslarƒ± g√º√ßlendirir, kemikleri saƒülamla≈ütƒ±rƒ±r ve baƒüƒ±≈üƒ±klƒ±k sistemini g√º√ßlendirir. Aynƒ± zamanda stres azaltƒ±r, ruh halini iyile≈ütirir ve √∂zg√ºveni artƒ±rƒ±r. Spor yapmak i√ßin b√ºy√ºk spor salonlarƒ±na gitmenize gerek yok, evde bile basit egzersizlerle forma kalabilirsiniz.",
            
            "Okuma alƒ±≈ükanlƒ±ƒüƒ± geli≈ütirmenin bir√ßok faydasƒ± vardƒ±r. Kitaplar hayal g√ºc√ºm√ºz√º geli≈ütirir, kelime daƒüarcƒ±ƒüƒ±mƒ±zƒ± zenginle≈ütirir ve d√º≈ü√ºnme becerimizi artƒ±rƒ±r. Farklƒ± k√ºlt√ºrlerden, farklƒ± d√∂nemlerden hikayeler okuyarak perspektifimizi geni≈ületiriz. Bilim, tarih, felsefe gibi konularda bilgimizi derinle≈ütiririz. Dijital √ßaƒüda televizyon ve sosyal medya kar≈üƒ±sƒ±nda kitap okumak giderek zorla≈üsa da, bu alƒ±≈ükanlƒ±ƒüƒ± korumak i√ßin √ßaba g√∂stermeliyiz.",
            
            "Yemek pi≈üirmek hem sanat hem de bilimdir. ƒ∞yi bir yemek i√ßin sadece tarifi takip etmek yeterli deƒüildir, malzemelerin kalitesi, pi≈üirme teknikleri ve zamanlamasƒ± da √ßok √∂nemlidir. Her mutfaƒüƒ±n kendine √∂zg√º gelenekleri, baharatlarƒ± ve pi≈üirme y√∂ntemleri vardƒ±r. T√ºrk mutfaƒüƒ± da d√ºnyada sayƒ±lƒ± zengin mutfaklar arasƒ±nda yer alƒ±r. Kebaplarƒ±mƒ±z, b√∂reklerimiz, tatlƒ±larƒ±mƒ±z ve √ßorbalarƒ±mƒ±z ile tanƒ±nƒ±rƒ±z. Evde yemek pi≈üirmek hem saƒülƒ±klƒ± hem de ekonomik bir tercihtir."
        ];

        // Botlar i√ßin isimler
        const botNames = [
            "TurboYazar", "Hƒ±zlƒ±Parmak", "KlavyeKralƒ±", "Yazƒ±mUstasƒ±", "S√ºratliSava≈ü√ßƒ±",
            "TekstTerminator", "Hƒ±zAslanƒ±", "YazmaYƒ±ldƒ±zƒ±", "KarakterKahraman", "Tu≈üTornado",
            "≈ûim≈üekYazar", "R√ºzgarRakip", "Atƒ±≈üanAte≈ü", "VelozVampir", "NinjaYazƒ±cƒ±"
        ];

        function joinGame() {
            const nameInput = document.getElementById('playerName');
            if (!nameInput.value.trim()) {
                alert('L√ºtfen adƒ±nƒ±zƒ± girin!');
                return;
            }
            
            playerName = nameInput.value.trim();
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('gameArea').style.display = 'block';
            
            startSearching();
        }

        function startSearching() {
            gameState = 'searching';
            searchStartTime = Date.now();
            document.getElementById('searchingScreen').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
            
            updateSearchTimer();
            
            // 2-5 saniye arasƒ± rastgele s√ºre sonra rakip bul
            const searchDuration = Math.random() * 3000 + 2000;
            setTimeout(foundOpponent, searchDuration);
        }

        function updateSearchTimer() {
            if (gameState !== 'searching') return;
            
            const elapsed = Math.floor((Date.now() - searchStartTime) / 1000);
            document.getElementById('searchTime').textContent = `‚è±Ô∏è ${elapsed} saniye`;
            
            setTimeout(updateSearchTimer, 1000);
        }

        function foundOpponent() {
            // Rastgele bot ismi se√ß
            const opponentName = botNames[Math.floor(Math.random() * botNames.length)];
            
            opponentData = {
                name: opponentName,
                speed: Math.floor(Math.random() * 100) + 30, // 30-130 arasƒ± hƒ±z
                accuracy: Math.floor(Math.random() * 20) + 80 // 80-100 arasƒ± doƒüruluk
            };
            
            document.getElementById('myName').textContent = playerName;
            document.getElementById('myName2').textContent = playerName;
            document.getElementById('opponentName').textContent = opponentName;
            document.getElementById('opponentName2').textContent = opponentName;
            
            document.getElementById('searchingScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            
            setTimeout(startCountdown, 1000);
        }

        function startCountdown() {
            document.getElementById('countdownArea').style.display = 'block';
            let count = 3;
            
            const countdownInterval = setInterval(() => {
                if (count > 0) {
                    document.getElementById('countdown').textContent = count;
                    count--;
                } else if (count === 0) {
                    document.getElementById('countdown').textContent = 'BA≈ûLA!';
                    count--;
                } else {
                    clearInterval(countdownInterval);
                    startGame();
                }
            }, 1000);
        }

        function startGame() {
            gameState = 'playing';
            document.getElementById('countdownArea').style.display = 'none';
            
            // Rastgele metin se√ß
            currentText = gameParagraphs[Math.floor(Math.random() * gameParagraphs.length)];
            displayText();
            
            const typingInput = document.getElementById('typingInput');
            typingInput.disabled = false;
            typingInput.focus();
            typingInput.addEventListener('input', handleTyping);
            
            gameStartTime = Date.now();
            myProgress = 0;
            opponentProgress = 0;
            typedText = '';
            
            // Bot'un yazmasƒ±nƒ± sim√ºle et
            simulateOpponentTyping();
            updateStats();
        }

        function displayText() {
            document.getElementById('textDisplay').innerHTML = formatText();
        }

        function formatText() {
            let formattedText = '';
            for (let i = 0; i < currentText.length; i++) {
                const char = currentText[i];
                if (i < typedText.length) {
                    if (typedText[i] === char) {
                        formattedText += `<span class="correct-char">${char}</span>`;
                    } else {
                        formattedText += `<span class="wrong-char">${char}</span>`;
                    }
                } else if (i === typedText.length) {
                    formattedText += `<span class="current-char">${char}</span>`;
                } else {
                    formattedText += char;
                }
            }
            return formattedText;
        }

        function handleTyping(e) {
            if (gameState !== 'playing') return;
            
            typedText = e.target.value;
            displayText();
            
            myProgress = (typedText.length / currentText.length) * 100;
            document.getElementById('myProgress').style.width = myProgress + '%';
            
            // ƒ∞statistikleri g√ºncelle
            updateStats();
            
            // Oyun biti≈üini kontrol et
            if (typedText.length >= currentText.length) {
                endGame('win');
            }
        }

        function simulateOpponentTyping() {
            if (gameState !== 'playing') return;
            
            const baseSpeed = opponentData.speed;
            const variation = Math.random() * 40 - 20; // -20 ile +20 arasƒ± deƒüi≈üim
            const currentSpeed = Math.max(20, baseSpeed + variation);
            
            // WPM'den karakter/saniye'ye √ßevir (ortalama 5 karakter/kelime)
            const charsPerSecond = (currentSpeed * 5) / 60;
            const delay = 1000 / charsPerSecond;
            
            setTimeout(() => {
                if (gameState === 'playing' && opponentProgress < 100) {
                    opponentProgress += (100 / currentText.length);
                    opponentProgress = Math.min(100, opponentProgress);
                    
                    document.getElementById('opponentProgress').style.width = opponentProgress + '%';
                    document.getElementById('opponentSpeed').textContent = Math.floor(currentSpeed);
                    
                    if (opponentProgress >= 100) {
                        endGame('lose');
                    } else {
                        simulateOpponentTyping();
                    }
                }
            }, delay);
        }

        function updateStats() {
            if (typedText.length === 0) return;
            
            const timeElapsed = (Date.now() - gameStartTime) / 1000 / 60; // dakika cinsinden
            const wordsTyped = typedText.length / 5; // ortalama 5 karakter/kelime
            mySpeed = Math.floor(wordsTyped / timeElapsed) || 0;
            
            // Doƒüruluk hesapla
            let correctChars = 0;
            for (let i = 0; i < typedText.length; i++) {
                if (typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            myAccuracy = Math.floor((correctChars / typedText.length) * 100) || 100;
            
            document.getElementById('mySpeed').textContent = mySpeed;
            document.getElementById('myAccuracy').textContent = myAccuracy;
        }

        function endGame(result) {
            gameState = 'finished';
            document.getElementById('typingInput').disabled = true;
            
            const winnerMessage = document.getElementById('winnerMessage');
            const winnerText = document.getElementById('winnerText');
            const winnerDetails = document.getElementById('winnerDetails');
            
            if (result === 'win') {
                winnerText.textContent = 'üéâ TEBRƒ∞KLER! KAZANDINIZ! üéâ';
                winnerDetails.innerHTML = `
                    <div style="margin: 20px 0;">
                        <div>‚ö° Final Hƒ±zƒ±nƒ±z: ${mySpeed} KDK</div>
                        <div>üéØ Doƒüruluk Oranƒ±nƒ±z: ${myAccuracy}%</div>
                        <div>üèÜ ${opponentData.name} adlƒ± rakibinizi ge√ßtiniz!</div>
                    </div>
                `;
            } else {
                winnerText.textContent = 'üòî KAYBETTINIZ';
                winnerDetails.innerHTML = `
                    <div style="margin: 20px 0;">
                        <div>‚ö° Final Hƒ±zƒ±nƒ±z: ${mySpeed} KDK</div>
                        <div>üéØ Doƒüruluk Oranƒ±nƒ±z: ${myAccuracy}%</div>
                        <div>üíî ${opponentData.name} sizi ge√ßti!</div>
                    </div>
                `;
            }
            
            winnerMessage.style.display = 'block';
        }

        function startNewGame() {
            document.getElementById('winnerMessage').style.display = 'none';
            document.getElementById('typingInput').value = '';
            document.getElementById('myProgress').style.width = '0%';
            document.getElementById('opponentProgress').style.width = '0%';
            document.getElementById('mySpeed').textContent = '0';
            document.getElementById('myAccuracy').textContent = '100';
            
            startSearching();
        }

        // Enter tu≈üu ile oyuna ba≈ülama
        document.getElementById('playerName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                joinGame();
            }
        });
    </script>
</body>
</html>